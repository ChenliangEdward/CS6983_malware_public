#include "strings_main.h"
#include <stdio.h>
#define LAIKA_VAR_MAX 512

#define LAIKA_BOX_STARTVAR(type, name, skid, data)                             \
  type name;                                                                   \
  unsigned char name##_data[] = data;                                          \
  unsigned char name##_skidData[LAIKA_VAR_MAX] = {0};                          \
  for (int i = 0; i < LAIKA_VAR_MAX; i++) {                                    \
    name##_skidData[i] = name##_data[i] ^ skid;                                \
  }                                                                            \
  name = (type)name##_skidData;

#define LAIKA_BOX_ENDVAR(name)                                                 \
  for (int i = 0; i < LAIKA_VAR_MAX; i++) {                                    \
    name##_skidData[i] = 0;                                                    \
  }

int main(int argv, char **argc) {
    LAIKA_BOX_STARTVAR(char*, maindll_clientMode_pipe, KEY_maindll_clientMode_pipe, DATA_maindll_clientMode_pipe)
    printf("%s\n", maindll_clientMode_pipe);
    LAIKA_BOX_ENDVAR(maindll_clientMode_pipe)
    return 0;
}