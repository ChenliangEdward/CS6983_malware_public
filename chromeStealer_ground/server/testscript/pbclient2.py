import requests

def create_paste(api_user_key, paste_code, client_guid, URL):
    # API URL
    url = "https://pastebin.com/api/api_post.php"
    
    # Your API key here
    api_dev_key = 'jNz91HCPI_iMptdqNek5UhHcgRD0a1Oc'  # Replace this with your actual Pastebin Developer API key
    paste_name = client_guid + "|" + URL
    # Paste content and other parameters
    api_paste_code = paste_code  # Text to be pasted
    api_paste_private = '2'  # Visibility: 0=public, 1=unlisted, 2=private
    api_paste_name = paste_name # Name or title of the paste
    api_paste_expire_date = '1M'  # Paste expiration date
    api_paste_format = 'python'  # Syntax highlighting: Use 'python' for Python syntax
    
    # Payload for POST request
    data = {
        'api_option': 'paste',
        'api_user_key': api_user_key,  # User key for a non-guest paste
        'api_paste_private': api_paste_private,
        'api_paste_name': api_paste_name,
        'api_paste_expire_date': api_paste_expire_date,
        'api_paste_format': api_paste_format,
        'api_dev_key': api_dev_key,
        'api_paste_code': api_paste_code
    }
    
    # Make the HTTP request
    response = requests.post(url, data=data)
    
    # Print the response URL or error message
    if response.status_code == 200:
        print("Paste created successfully: " + response.text)
    else:
        print("Failed to create paste. Status code:", response.status_code)

def list_pastes(api_dev_key, api_user_key, limit=2):
    url = 'https://pastebin.com/api/api_post.php'
    data = {
        'api_option': 'list',
        'api_user_key': api_user_key,
        'api_dev_key': api_dev_key,
        'api_results_limit': limit
    }

    response = requests.post(url, data=data)
    if response.status_code == 200:
        return response.text
    else:
        return "Failed to retrieve pastes. Status code: {}".format(response.status_code)

def parse_pastes(text):
    pass

api_dev_key = 'jNz91HCPI_iMptdqNek5UhHcgRD0a1Oc'  # Your Pastebin Developer API Key
api_user_key = '792b170053a0cd39023e520908cb42c1'
client_guid = "asldkhjfqwejnhcudjqwashdfijnern="
url = "/something/hijklmn"
content = "this is a content by client2"
# Create pastes
create_paste(api_user_key, content, client_guid, url)
# Fetch pastes
